"use strict";(self["webpackChunkai_customer_service_system"]=self["webpackChunkai_customer_service_system"]||[]).push([[289],{289:function(t,s,e){e.r(s),e.d(s,{default:function(){return c}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"knowledge-keywords"},[s("div",{staticClass:"top-bar"},[s("div",{staticClass:"stats"},[s("div",{staticClass:"stat-item"},[s("div",{staticClass:"stat-label"},[t._v("全部数量")]),s("div",{staticClass:"stat-value"},[t._v(t._s(t.totalCount))])]),t._l(t.categoryStats,function(e){return s("div",{key:e.name,staticClass:"stat-item"},[s("div",{staticClass:"stat-label"},[t._v(t._s(e.name))]),s("div",{staticClass:"stat-value"},[t._v(t._s(e.count))])])})],2),s("div",{staticClass:"actions"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"select",on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var s="_value"in t?t._value:t.value;return s});t.selectedCategory=s.target.multiple?e:e[0]}}},[s("option",{attrs:{value:""}},[t._v("全部分类")]),t._l(t.allCategories,function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"search",attrs:{placeholder:"搜索关键词或知识内容..."},domProps:{value:t.searchText},on:{input:function(s){s.target.composing||(t.searchText=s.target.value)}}}),s("button",{staticClass:"btn-industry",on:{click:t.subscribeIndustryPack}},[s("i",{staticClass:"fas fa-box mr-2"}),t._v("订阅行业包 ")])])]),s("div",{staticClass:"card-list"},t._l(t.filteredGroups,function(e,a){return s("div",{key:e.category,staticClass:"card-group"},[s("div",{staticClass:"card-header",on:{click:function(s){return t.toggleGroup(a)}}},[s("div",[s("span",{staticClass:"group-title"},[t._v(t._s(e.category))]),s("span",{staticClass:"industry-tag"},[t._v(t._s(e.industryTag))]),s("span",{staticClass:"hit-count"},[t._v("近7日命中: "+t._s(e.questions.reduce((t,s)=>t+(s.hit_count_7d||0),0)))])]),s("button",{staticClass:"btn-add",on:{click:function(s){return s.stopPropagation(),t.addKnowledge(a)}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" 添加知识")]),s("button",{staticClass:"btn-toggle"},[s("i",{class:["fas",e.expanded?"fa-chevron-up":"fa-chevron-down"]})])]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"group.expanded"}],staticClass:"card-body"},t._l(e.questions,function(e,n){return s("div",{key:n,staticClass:"qa-item"},[s("div",{staticClass:"qa-header"},[s("div",{staticClass:"qa-question"},[s("span",{staticClass:"qa-label"},[t._v("客户常问：")]),s("span",{staticClass:"qa-example"},[t._v(t._s(e.example||"暂无示例"))]),s("span",{staticClass:"qa-keywords"},[t._l(e.keywords,function(e,a){return s("span",{key:a,staticClass:"keyword"},[t._v(t._s(e))])}),s("button",{staticClass:"btn-edit",on:{click:function(s){return t.editKeywords(a,n)}}},[t._v("编辑关键词")])],2)]),s("button",{staticClass:"btn-delete",on:{click:function(s){return t.deleteKnowledge(a,n)}}},[s("i",{staticClass:"fas fa-trash"})])]),s("div",{staticClass:"qa-answers"},[t._l(e.answers,function(e,i){return s("div",{key:i,staticClass:"answer-item"},[s("span",{staticClass:"answer-label"},[t._v("知识内容：")]),s("span",{staticClass:"answer-text"},[t._v(t._s(e))]),s("button",{staticClass:"btn-edit",on:{click:function(s){return t.editAnswer(a,n,i)}}},[t._v("配置")]),s("button",{staticClass:"btn-delete",on:{click:function(s){return t.deleteAnswer(a,n,i)}}},[s("i",{staticClass:"fas fa-trash"})])])}),s("button",{staticClass:"btn-add",on:{click:function(s){return t.addAnswer(a,n)}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" 添加知识")])],2)])}),0)])],1)}),0)])},n=[],i={name:"KnowledgeKeywords",data(){return{groups:[{category:"发票问题",industryTag:"行业通用",expanded:!0,questions:[{example:"怎么开发票？",keywords:["发票","开发票","电子发票"],answers:["【可以开发票的哦~】"],hit_count_7d:3}]},{category:"退换货类",industryTag:"行业通用",expanded:!1,questions:[{example:"我已经申请退货了还可以退款吗？",keywords:["退货","退款","取消订单"],answers:["退货后会自动退款，耐心等待到账即可。"],hit_count_7d:5}]}],selectedCategory:"",searchText:""}},computed:{totalCount(){return this.groups.reduce((t,s)=>t+s.questions.length,0)},allCategories(){return this.groups.map(t=>t.category)},categoryStats(){return this.groups.map(t=>({name:t.category,count:t.questions.length}))},filteredGroups(){let t=this.groups;if(this.selectedCategory&&(t=t.filter(t=>t.category===this.selectedCategory)),this.searchText){const s=this.searchText.toLowerCase();t=t.map(t=>({...t,questions:t.questions.filter(t=>t.keywords.some(t=>t.includes(s))||t.answers.some(t=>t.includes(s)))})).filter(t=>t.questions.length>0)}return t}},methods:{toggleGroup(t){this.groups[t].expanded=!this.groups[t].expanded},subscribeIndustryPack(){this.$message&&this.$message.success("订阅行业包功能待接入")},addKnowledge(){alert("添加知识（弹窗开发中）")},editKeywords(){alert("编辑关键词（弹窗开发中）")},deleteKnowledge(t,s){this.groups[t].questions.splice(s,1)},addAnswer(){alert("添加答案（弹窗开发中）")},editAnswer(){alert("编辑答案（弹窗开发中）")},deleteAnswer(t,s,e){this.groups[t].questions[s].answers.splice(e,1)}}},r=i,o=e(656),l=(0,o.A)(r,a,n,!1,null,"e2855b76",null),c=l.exports}}]);
//# sourceMappingURL=289.67a3a4f6.js.map